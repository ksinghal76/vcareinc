<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:sf="http://www.springframework.org/tags/faces"
	xmlns:p="http://primefaces.org/ui"
	xmlns:form="http://www.springframework.org/tags/form"
	template="includes/template.xhtml">

	<ui:define name="bodyContent">
		<div class="well container members">

        <div class="container-fluid">

                                    <p class="breadcrumb">
                        <a href="memberUser">Home</a> / <a href="memberUser">beautypro411</a>  / <a href="eventManage">Events</a> / Add                    </p>

		<ui:include src="includes/memberbar.xhtml"/>
    <div class="content">


        <h2>Event Information</h2>

	<h:form enctype="multipart/form-data">
       <!--  <form name="form_event" id="form_event" action="/members/event/event.php" method="post" enctype="multipart/form-data"> -->

<!--             <input type="hidden" name="process" id="process" value=""/>
            <input type="hidden" name="id" value=""/>
            <input type="hidden" name="account_id" value="321"/>
            <input type="hidden" name="level" id="level" value="10"/>
            <input type="hidden" name="letter" value=""/>
            <input type="hidden" name="screen" value=""/>
            <input type="hidden" name="using_package" id="using_package" value="n"/>
            <input type="hidden" name="package_id" id="package_id" value=""/>
            <input type="hidden" name="gallery_hash" value="event_21062077235398ef96bb3133.74099079"/> -->

			<ui:include src="includes/errorPageType.xhtml">
          		<ui:param name="error" value="${eventOrder}"/>
          	</ui:include>

<script language="javascript" type="text/javascript">
<!--


    function JS_addCategory(id) {

		seed = document.form_event.seed;
		feed = document.form_event.feed;
        var text = unescapeHTML($("#liContent"+id).html());
		var flag=true;
		for (i=0;i<feed.length;i++)
			if (feed.options[i].value==id)
				flag=false;

		if(text && id && flag){
			feed.options[feed.length] = new Option(text, id);
			$('#categoryAdd'+id).after("<span class=\"categorySuccessMessage\">Successfully added!</span>").css('display', 'none');
			$('.categorySuccessMessage').fadeOut(5000);
		} else {
			if (!flag) $('#categoryAdd'+id).after("</a> <span class=\"categoryErrorMessage\">Already added</span> </li>");
            else ('#categoryAdd'+id).after("</a> <span class=\"categoryErrorMessage\">Please, select a valid category</span> </li>");
		}

		$("#removeCategoriesButton").show();
	}

	function JS_submit() {

		feed = document.form_event.feed;
		return_categories = document.form_event.return_categories;
		if(return_categories.value.length > 0) return_categories.value="";

		for (i=0;i<feed.length;i++) {
			if (!isNaN(feed.options[i].value)) {
				if(return_categories.value.length > 0)
				return_categories.value = return_categories.value + "," + feed.options[i].value;
				else
			return_categories.value = return_categories.value + feed.options[i].value;
			}
		}

		document.form_event.submit();
	}

	function makeMain(image_id,thumb_id,item_id,temp,item_type) {

		var xmlhttp;

		try {
			xmlhttp = new XMLHttpRequest();
		} catch (e) {
			try {
				xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
			} catch (e) {
				try {
					xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
				} catch (e) {
					xmlhttp = false;
				}
			}
		}

		if (xmlhttp) {
			xmlhttp.onreadystatechange = function() {
				if (xmlhttp.readyState == 4) {
					if (xmlhttp.status == 200) {
						response =  xmlhttp.responseText;
													loadGallery(item_id, 'y', 'members', '', 'true');
											}
				}
			}

			xmlhttp.open("GET", "http://beautypro411.com/makemainimage.php?gallery_hash=event_21062077235398ef96bb3133.74099079&image_id="+image_id+"&thumb_id="+thumb_id+"&item_id="+item_id+"&temp="+temp+"&item_type="+item_type+"&domain_id=1", true);
			xmlhttp.send(null);
		}
	}

	function changeMain(image_id,thumb_id,item_id,temp,gallery_id,item_type) {

		var xmlhttp;

		try {
			xmlhttp = new XMLHttpRequest();
		} catch (e) {
			try {
				xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
			} catch (e) {
				try {
					xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
				} catch (e) {
					xmlhttp = false;
				}
			}
		}

		if (xmlhttp) {
			xmlhttp.onreadystatechange = function() {
				if (xmlhttp.readyState == 4) {
					if (xmlhttp.status == 200) {
						response =  xmlhttp.responseText;
						if (response == "error"){
							fancy_alert('Your item already has the maximum number of images in the gallery. Delete an existing image to save this one.', 'errorMessage', false, 500, 100, false);
						}
													loadGallery(item_id,'y','members','','true');
											}
				}
			}

			xmlhttp.open("GET", "http://beautypro411.com/changemainimage.php?gallery_hash=event_21062077235398ef96bb3133.74099079&image_id="+image_id+"&thumb_id="+thumb_id+"&item_id="+item_id+"&gallery_id="+gallery_id+"&temp="+temp+"&item_type="+item_type+"&domain_id=1"+"&level=10", true);
			xmlhttp.send(null);
		}
	}

	function loadGallery(id, new_image, sess, del, main) {

		var xmlhttp;

		try {
			xmlhttp = new XMLHttpRequest();
		} catch (e) {
			try {
				xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
			} catch (e) {
				try {
					xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
				} catch (e) {
					xmlhttp = false;
				}
			}
		}

		if (xmlhttp) {
			xmlhttp.onreadystatechange = function() {
				if (xmlhttp.readyState == 4) {
					if (xmlhttp.status == 200) {
							$("#galleryF").html(xmlhttp.responseText);

							if (del != "edit" && del != "editFe"){
								if (del == "n"){
									$("#addImage").css("display", "none");
									$("#galleryF").css("display", "");
								} else {
																			if(del) {
											$("#addImage").css("display", "none");
											$("#galleryF").css("display", "");
										} else {
											$("#addImage").css("display", "");
											$("#galleryF").css("display","none");
										}
																	}
							} else {
								if (del == "edit" || del == "editFe"){
                                    $("#galleryF").css("display", "");
                                }
							}

							if (main == "true") {
								$("#galleryF").css("display", "");
							}
															$("#galleryF").css("display", "");

							if (xmlhttp.responseText == "no image"){
								$("#galleryF").css("display", "none");
							}
							$("#galleryF").html(xmlhttp.responseText);
                            $("a.fancy_window_imgAdd").fancybox({
                                'overlayShow'			: true,
                                'overlayOpacity'		: 0.75,
                                'autoDimensions'        : false,
                                'width'                 : 785,
                                'height'                : 465,


                                'padding'               : 0,
                                'margin'                : 0,
                                'showCloseButton'       : false,


                                'titleShow'             : false
                            });

                            $("a.fancy_window_imgCaptions").fancybox({
                                'overlayShow'			: true,
                                'overlayOpacity'		: 0.75,
                                'autoDimensions'        : false,
                                'width'                 : 600,
                                'height'                : 235,


                                'padding'               : 0,
                                'margin'                : 0,
                                'showCloseButton'       : false,


                                'titleShow'             : false
                            });

                            $("a.fancy_window_imgDelete").fancybox({
                                'overlayShow'			: true,
                                'overlayOpacity'		: 0.75,
                                'autoDimensions'        : false,
                                'width'                 : 300,
                                'height'                : 180,


                                'padding'               : 0,
                                'margin'                : 0,
                                'showCloseButton'       : false,


                                'titleShow'             : false
                            });
					}
				}
			}

			xmlhttp.open("GET", "http://beautypro411.com/includes/code/returngallery.php?gallery_hash=event_21062077235398ef96bb3133.74099079&domain_id=1&id="+id+"&new_image="+new_image+"&main="+main+"&sess="+sess+"&module=event&level=10", true);
			xmlhttp.send(null);
		}
	}


	function recurringcheck() {
        if (document.getElementById("recurring").checked==true){
            document.getElementById("reccuring_events").style.display='';
            document.getElementById("reccuring_ends").style.display='';
            document.getElementById("endDate").disabled=true;
			document.getElementById("labelEndDate").style.display='none';
            chooseperiod(document.getElementById("period").value);
			if (document.getElementById("eventEver").checked==true){
				document.getElementById("untilDate").disabled=true;
			} else {
				document.getElementById("untilDate").disabled=false;
			}

        }else{
            document.getElementById("reccuring_events").style.display='none';
            document.getElementById("reccuring_ends").style.display='none';
			document.getElementById("endDate").disabled=false;
			document.getElementById("labelEndDate").style.display='';
        }
    }

	function chooseperiod(value){
        if (value=="DAILY" || value=="" ){
            document.getElementById("select_day").style.display='none';
            document.getElementById("select_week").style.display='none';
            document.getElementById("day").disabled=true;
            document.getElementById("week").disabled=true;
            document.getElementById("dayofweek").disabled=true;
			for (i=0;i<7;i++){
				document.getElementById("dayofweek_"+i).disabled=true;
			}
			for (i=0;i<5;i++){
				document.getElementById("numberofweek_"+i).disabled=true;
			}
            document.getElementById("month").disabled=true;
        }else if(value=='WEEKLY'){
            document.getElementById("select_day").style.display='none';
            document.getElementById("of").style.display='none';
            document.getElementById("week_of").style.display='none';
            document.getElementById("of2").style.display='';
            document.getElementById("of3").style.display='none';
            document.getElementById("of4").style.display='none';
            document.getElementById("month_of").style.display='none';
            document.getElementById("week").style.display='none';
            document.getElementById("weeklabel").style.display='none';
            document.getElementById("month").style.display='none';
            document.getElementById("month2").style.display='none';
            document.getElementById("select_week").style.display='';

            document.getElementById("day").disabled=true;
            document.getElementById("dayofweek").disabled=false;
			for (i=0;i<7;i++){
				document.getElementById("dayofweek_"+i).disabled=false;
			}
			for (i=0;i<5;i++){
				document.getElementById("numberofweek_"+i).disabled=false;
			}
            document.getElementById("week").disabled=true;
            document.getElementById("month").disabled=true;
            document.getElementById("month2").disabled=true;
            document.getElementById("precision1").style.display='none';
            document.getElementById("precision2").style.display='none';

        }else if(value=='MONTHLY'){
            document.getElementById("precision1").style.display='';
            document.getElementById("precision2").style.display='';
            document.getElementById("precision2").checked=true;
            document.getElementById("select_day").style.display='';
            document.getElementById("of").style.display='';
            document.getElementById("week_of").style.display='';
            document.getElementById("of2").style.display='none';
            document.getElementById("of3").style.display='none';
            document.getElementById("of4").style.display='';
            document.getElementById("month_of").style.display='none';
            document.getElementById("week").style.display='';
            document.getElementById("weeklabel").style.display='';
            document.getElementById("month").style.display='none';
            document.getElementById("month2").style.display='none';
            document.getElementById("select_week").style.display='';

            document.getElementById("day").disabled=true;
            document.getElementById("dayofweek").disabled=false;
			for (i=0;i<7;i++){
				document.getElementById("dayofweek_"+i).disabled=false;
			}
			for (i=0;i<5;i++){
				document.getElementById("numberofweek_"+i).disabled=false;
			}
            document.getElementById("week").disabled=false;
            document.getElementById("month").disabled=false;
            document.getElementById("month2").disabled=true;

        }else if(value=='YEARLY'){
            document.getElementById("select_day").style.display='';
            document.getElementById("of").style.display='';
            document.getElementById("week_of").style.display='';
            document.getElementById("of2").style.display='';
            document.getElementById("of3").style.display='';
            document.getElementById("of4").style.display='none';
            document.getElementById("month_of").style.display='';
            document.getElementById("week").style.display='';
            document.getElementById("weeklabel").style.display='';
            document.getElementById("month").style.display='';
            document.getElementById("month2").style.display='';
            document.getElementById("select_week").style.display='';
            document.getElementById("precision1").style.display='';
            document.getElementById("precision2").style.display='';
			document.getElementById("precision2").checked=true;
            document.getElementById("day").disabled=true;
            document.getElementById("dayofweek").disabled=false;
			for (i=0;i<7;i++){
				document.getElementById("dayofweek_"+i).disabled=false;
			}
			for (i=0;i<5;i++){
				document.getElementById("numberofweek_"+i).disabled=false;
			}
            document.getElementById("week").disabled=false;
            document.getElementById("month").disabled=true;
            document.getElementById("month2").disabled=false;
        }
    }

    function chooseprecision(value){

        if (value=='day'){

			var startDate = $("#startDate").val();
			var date_format = 'm/d/Y';
			var arrStDate = startDate.split("/");
			if (date_format == 'd/m/Y') {
				var defDay = arrStDate[0];
				var defMonth = arrStDate[1];
			} else if (date_format == 'm/d/Y') {
				var defDay = arrStDate[1];
				var defMonth = arrStDate[0];
			}

			if ($("#day").val() == "") {
				$("#day").val(defDay);
			}

			if ($("#month option:selected").val() == "") {
				var nMonth = document.getElementById("month");
				nMonth[(defMonth - 1) + 1].selected = true;
			}

            document.getElementById("day").disabled=false;
            document.getElementById("dayofweek").disabled=true;
			for (i=0;i<7;i++){
				document.getElementById("dayofweek_"+i).disabled=true;
			}
			for (i=0;i<5;i++){
				document.getElementById("numberofweek_"+i).disabled=true;
			}
            document.getElementById("week").disabled=true;
            document.getElementById("month").disabled=false;
            document.getElementById("month2").disabled=true;
            document.getElementById("precision1").checked=true;
            document.getElementById("precision2").checked=false;
        } else if (value=='weekday') {
            document.getElementById("day").disabled=true;
            document.getElementById("dayofweek").disabled=false;
			for (i=0;i<7;i++){
			 document.getElementById("dayofweek_"+i).disabled=false;
			}
			for (i=0;i<5;i++){
			 document.getElementById("numberofweek_"+i).disabled=false;
			}
            document.getElementById("week").disabled=false;
            document.getElementById("month").disabled=true;
            document.getElementById("month2").disabled=false;
        } else {
            document.getElementById("day").disabled=true;
            document.getElementById("dayofweek").disabled=false;
			for (i=0;i<7;i++){
				document.getElementById("dayofweek_"+i).disabled=false;
			}
			for (i=0;i<5;i++){
				document.getElementById("numberofweek_"+i).disabled=false;
			}
            document.getElementById("week").disabled=false;
            document.getElementById("month").disabled=true;
            document.getElementById("week2").disabled=false;
        }
    }


	function enableUntil(op){
		if (op==1){
			document.getElementById("untilDate").disabled=true;
		} else if (op==2){
			document.getElementById("untilDate").disabled=false;
		}
	}

		$(document).ready(function(){

        var field_name = 'summarydesc';
        var count_field_name = 'summarydesc_remLen';

        var options = {
                    'maxCharacterSize': 250,
                    'originalStyle': 'originalTextareaInfo',
                    'warningStyle' : 'warningTextareaInfo',
                    'warningNumber': 40,
                    'displayFormat' : '<span><input readonly="readonly" type="text" id="'+count_field_name+'" name="'+count_field_name+'" size="3" maxlength="3" value="#left" class="textcounter" disabled="disabled" /> characters left (including spaces and line breaks)</span>'
            };
        $('#'+field_name).textareaCount(options);


	});
-->
</script>


<script type="text/javascript" src="http://beautypro411.com/scripts/accountsearch.js"></script>




<table border="0" cellpadding="0" cellspacing="0" class="standard-table">
	<tbody><tr class="bigger">
		<th><i><span>Required field</span></i> Event Title:</th>
		<td>
			<input type="text" name="title" value="${eventOrder.title}" maxlength="100" onblur="easyFriendlyUrl(this.value, 'friendly_url', 'a-zA-Z0-9', '-');"/>
			<input type="hidden" name="friendly_url" id="friendly_url" value="" maxlength="150"/>
		</td>
	</tr>

</tbody></table>

<table border="0" cellpadding="0" cellspacing="0" class="standard-table">
	<tbody><tr>
		<th colspan="2" class="standard-tabletitle">Information</th>
	</tr>
	        <tr>
            <th>E-mail:</th>
            <td><input type="text" name="email" value="${eventOrder.email}"/></td>
        </tr>

			<tr>
			<th>URL:</th>
			<td>
			<select name="protocol" class="httpSelect">
			<c:choose>
				<c:when test="${eventOrder.protocol == 'http://'}">
					<option value="http://" selected="selected">http://</option>
				</c:when>
				<c:otherwise>
					<option value="http://">http://</option>
				</c:otherwise>
			</c:choose>

			<c:choose>
				<c:when test="${eventOrder.protocol == 'https://'}">
					<option value="https://" selected="selected">https://</option>
				</c:when>
				<c:otherwise>
					<option value="https://">https://</option>
				</c:otherwise>
			</c:choose>

			<c:choose>
				<c:when test="${eventOrder.protocol == 'ftp://'}">
					<option value="ftp://" selected="selected">ftp://</option>
				</c:when>
				<c:otherwise>
					<option value="ftp://">ftp://</option>
				</c:otherwise>
			</c:choose>
			</select>
			<input type="text" class="httpInput" name="url" value="${eventOrder.url}" maxlength="255"/>
			</td>
		</tr>

    	<tr>
		<th>Phone:</th>
		<td><input type="text" name="phoneNumber" value="${eventOrder.phoneNumber}"/></td>
	</tr>

    		<tr>
			<th>Contact Name:</th>
			<td><input type="text" name="contactName" value="${eventOrder.contactName}"/></td>
		</tr>
    </tbody></table>

<table border="0" cellpadding="0" cellspacing="0" class="standard-table noMargin">
	<tbody><tr>
		<th colspan="2" class="standard-tabletitle">Location</th>
	</tr>
	<tr>
		<th>Location Name:</th>
		<td><input type="text" name="locationName" value="${eventOrder.locationName}"/></td>
	</tr>
	<tr>
		<th>Street Address:</th>
		<td><input type="text" name="address1" id="address1" onblur="loadMap(document.form_event);" value="${eventOrder.address1}"/></td>
	</tr>

	<tr>
		<th>Zipcode:</th>
		<td><input type="text" name="zipcode" id="zipcode" onblur="loadMap(document.form_event);" value="${eventOrder.zipcode}" maxlength="10"/></td>
	</tr>

        <tr>
		<th>Latitude:</th>
		<td>
            <input type="text" name="latitude" id="latitude" onblur="loadMap(document.form_event, true);" value="${eventOrder.latitude}" maxlength="10"/>
            <span>Ex: 38.830391</span>
        </td>
	</tr>

    <tr>
		<th>Longitude:</th>
		<td>
            <input type="text" name="longitude" id="longitude" onblur="loadMap(document.form_event, true);" value="${eventOrder.longitude}" maxlength="10"/>
            <span>Ex: -77.196370</span>
        </td>
	</tr>
    </tbody></table>
		<div id="formsLocation" class="form-location">
			<table cellpadding="0" cellspacing="0" border="0" class="standard-table standardSIGNUPTable ">
						<tbody><tr id="div_location_1">
							<th>
								<label for="location_1">Country:</label>
							</th>
							<td class="field" id="div_img_loading_1" style="display:none;">
								<img src="http://beautypro411.com/images/content/img_loading_bar.gif" alt="Wait, Loading..."/>
							</td>
							<td id="div_select_1" class="field locationSelect">
							<select class="select" id="country" name="country">
								<option value="0">Select a Country</option>
								<c:forEach items="${order.countryList}" var="countryList">
									<c:choose>
										<c:when test="${countryList.id == listingOrder.country}">
											<option value="${countryList.id}" selected="selected">${countryList.name}</option>
										</c:when>
										<c:otherwise>
											<option value="${countryList.id}">${countryList.name}</option>
										</c:otherwise>
									</c:choose>
								</c:forEach>
							</select>
																<!-- 	<select class="select" name="location_1" id="location_1" onchange="loadLocationSitemgrMembers('http://beautypro411.com', '1,3,4', 1, 3, this.value);  loadMap(document.form_event);  ">

									<option id="l_location_1" value="">Select a Country</option>
									<option value="2">Brasil</option><option value="5">England</option><option value="4">Germany</option><option value="3">Spain</option><option value="1">United States</option>								</select>
								<div class="field" id="box_no_location_found_1" style="display:none;">No locations found..</div> -->
							</td>
							<td class="field">
								<div id="div_new_location1_link">
									&nbsp;								</div>
							</td>
						</tr>


						<tr id="div_location_3">
							<th>
								<label for="location_3">State:</label>
							</th>
							<td class="field" id="div_img_loading_3" style="display:none;">
								<img src="http://beautypro411.com/images/content/img_loading_bar.gif" alt="Wait, Loading..."/>
							</td>
							<td id="div_select_3" class="field locationSelect">
							<select class="select" id="state" name="state">
								<option value="0">Select a State</option>
								<c:forEach items="${order.stateList}" var="stateList">
									<c:choose>
										<c:when test="${stateList.id == listingOrder.state}">
											<option value="${stateList.id}" selected="selected">${stateList.name}</option>
										</c:when>
										<c:otherwise>
											<option value="${stateList.id}">${stateList.name}</option>
										</c:otherwise>
									</c:choose>
								</c:forEach>
							</select>
																	<!-- <select style="display:none" class="select" name="location_3" id="location_3" onchange="loadLocationSitemgrMembers('http://beautypro411.com', '1,3,4', 3, 4, this.value);  loadMap(document.form_event);  ">

									<option id="l_location_3" value="">Select a State</option>
																	</select>
								<div class="field" id="box_no_location_found_3" style="display:none;">No locations found..</div> -->
							</td>
							<td class="field">
								<!-- <div id="div_new_location3_link">
																			<a href="javascript:void(0);" onclick="showNewLocationField('3', '1,3,4', true);" style=" cursor: pointer">+ Add a new state</a>
																	</div> -->
							</td>
						</tr>


							<!-- <tr id="div_new_location3_field" style="display:none;">
								<th>
									<label for="newlocation">Add a new state:</label>
								</th>
								<td class="field">
									<input type="text" name="new_location3_field" id="new_location3_field" value="" onfocus="showNewLocationField('4', '1,3,4', false);" onblur="easyFriendlyUrl(this.value, 'new_location3_friendly', 'a-zA-Z0-9', '-');  loadMap(document.form_event); "/>
									<input type="hidden" name="new_location3_friendly" id="new_location3_friendly" value=""/>
								</td>
								<td class="field" colspan="2">
									<div id="div_new_location3_back">
										<a href="javascript:void(0);" onclick="hideNewLocationField('3', '1,3,4');" style=" cursor: pointer">- Choose an existing state</a>
									</div>
								</td>
							</tr> -->

						<tr id="div_location_4" style="display:none;">
							<th>
								<label for="location_4">City:</label>
							</th>
							<td class="field" id="div_img_loading_4" style="display:none;">
								<img src="http://beautypro411.com/images/content/img_loading_bar.gif" alt="Wait, Loading..."/>
							</td>
							<td id="div_select_4" class="field locationSelect">
								<input type="text" id="city" name="city" value="${eventOrder.city}"/>
																	<!-- <select style="display:none" class="select" name="location_4" id="location_4" onchange="loadMap(document.form_event);">

									<option id="l_location_4" value="">Select a City</option>
																	</select>
								<div class="field" id="box_no_location_found_4" style="display:none;">No locations found..</div> -->
							</td>
							<td class="field">
								<!-- <div id="div_new_location4_link">
																			<a href="javascript:void(0);" onclick="showNewLocationField('4', '1,3,4', true);" style=" cursor: pointer">+ Add a new city</a>
																	</div> -->
							</td>
						</tr>


							<!-- <tr id="div_new_location4_field" style="display:none;">
								<th>
									<label for="newlocation">Add a new city:</label>
								</th>
								<td class="field">
									<input type="text" name="new_location4_field" id="new_location4_field" value="" onblur="easyFriendlyUrl(this.value, 'new_location4_friendly', 'a-zA-Z0-9', '-');  loadMap(document.form_event); "/>
									<input type="hidden" name="new_location4_friendly" id="new_location4_friendly" value=""/>
								</td>
								<td class="field" colspan="2">
									<div id="div_new_location4_back">
										<a href="javascript:void(0);" onclick="hideNewLocationField('4', '1,3,4');" style=" cursor: pointer">- Choose an existing city</a>
									</div>
								</td>
							</tr> -->
									</tbody></table>
		</div>
    <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script><script src="http://maps.gstatic.com/intl/en_us/mapfiles/api-3/17/2/main.js" type="text/javascript"></script>
    <script type="text/javascript">
<!--
        var geocoder;
        var map;

        function displayMapForm(form, show) {
            var use_lat_long = false;
            if ($.cookie('showMapForm') == 1 || show) {
                $('#trMap').css('display', '');
                $('#map').css('display', '');
                $('#tipsMap').css('display', '');
                $('#linkDisplayMap').text('' + showText(LANG_JS_LABEL_HIDEMAP) + '');
                $.cookie('showMapForm', '0', {expires: 7, path: '/'});
                if (!show){

                    if (document.getElementById('myLatitudeLongitude').value) {
                        use_lat_long = true;
                    }

                    loadMap(form, use_lat_long);
                }
            } else {
                $('#map').css('display', 'none');
                $('#trMap').css('display', 'none');
                $('#tipsMap').css('display', 'none');
                $('#linkDisplayMap').text('' + showText(LANG_JS_LABEL_SHOWMAP) + '');
                $.cookie('showMapForm', '1', {expires: 7, path: '/'});
            }
        }

        function setCoordinates(coord) {
            var new_lat;
            var new_long;
            var aux_latlong;

            document.getElementById('myLatitudeLongitude').value = coord;
            if (document.getElementById('maptuning_done')) {
                document.getElementById('maptuning_done').value = "y";
            }
            aux_latlong = document.getElementById('myLatitudeLongitude').value;
            aux_latlong = aux_latlong.replace("(", "").replace(")", "").replace(" ", "").split(',');
            new_lat = aux_latlong[0];
            new_long  = aux_latlong[1];

            var num_lat = new Number(new_lat);
            var num_long = new Number(new_long);

            document.getElementById('latitude').value = num_lat.toFixed(6);
            document.getElementById('longitude').value = num_long.toFixed(6);
        }

        function initialize(map_zoom, google_location, latitude, longitude, use_lat_long) {

            geocoder = new google.maps.Geocoder();
            var myOptions = {
              zoom: map_zoom,
              scrollwheel: false,
              mapTypeId: google.maps.MapTypeId.ROADMAP
            }
            map = new google.maps.Map(document.getElementById("map"), myOptions);
            codeAddress(google_location, latitude, longitude, use_lat_long);

            function codeAddress(google_location, latitude, longitude, use_lat_long) {
                var address = google_location;
                var marker = new google.maps.Marker({
                    map: map,
                    draggable: true
                });

                if (use_lat_long && latitude && longitude){
                    var latlng = new google.maps.LatLng(latitude, longitude);
                    marker.setPosition(latlng);
                    map.setCenter(latlng);
                } else {
                    if (geocoder) {
                        geocoder.geocode( { 'address': address}, function(results, status) {
                            if (status != google.maps.GeocoderStatus.OK) {
                                fancy_alert("Not found. Please, try to specify better your location.", "errorMessage", false, 300, 90, false);
                            }
                            if (status == google.maps.GeocoderStatus.OK) {
                                map.setCenter(results[0].geometry.location);
                                marker.setPosition(results[0].geometry.location);
                                setCoordinates(results[0].geometry.location);
                            }
                        });
                    }
                }

                google.maps.event.addListener(marker, 'dragend', function(event) {
                    setCoordinates(event.latLng);
                });

                google.maps.event.addListener(map, 'zoom_changed', function() {
                    document.getElementById('map_zoom').value = map.getZoom();
                });

            }
        }

        function loadMap(form, use_lat_long){
            var address = document.getElementById('address').value;
            var zip = document.getElementById('zip_code').value;
            var location_3 = '';
            var location_4 = '';
            var latitude = document.getElementById('latitude').value;
            var longitude = document.getElementById('longitude').value;
            var index;
            var google_location = '';
            var locations = new Array();
            var array_index = 0;
            var callMap = false;
            var valid_coord = true;
            var msg_invalid = '';

            if (use_lat_long && latitude && longitude){

                if (!isFinite(latitude) || !isFinite(longitude) || latitude < -90 || latitude > 90 || longitude < -180 || longitude > 180){

                    msg_invalid = "<b>The following fields contain errors:</b><br />";

                    if (!isFinite(latitude) || latitude < -90 || latitude > 90){
                        valid_coord = false;
                        msg_invalid = msg_invalid + "&#149;&nbsp;Latitude must be a number between -90 and 90.<br />";
                    }
                    if (!isFinite(longitude) || longitude < -180 || longitude > 180){
                        valid_coord = false;
                        msg_invalid = msg_invalid + "&#149;&nbsp;Longitude must be a number between -180 and 180.<br />";
                    }
                }

                if (valid_coord){
                   callMap = true;
                } else {
                   fancy_alert(msg_invalid, "errorMessage", false, 450, 150, false);
                }

            } else {
                if (address){
                    locations[array_index] = address;
                    array_index++;
                    callMap = true;
                }

                if (zip){
                    locations[array_index] = zip;
                    array_index++;
                    callMap = true;
                }

                if (document.getElementById('location_4')) {
                    index = form.location_4.selectedIndex;
                    if (document.getElementById('location_4').options[index].value) {
                        location_4 = document.getElementById('location_4').options[index].text;
                        locations[array_index] = location_4;
                        array_index++;
                        callMap = true;
                    }
                } else if (document.getElementById('city')) {
                    location_4 = document.getElementById('city').value;
                    locations[array_index] = location_4;
                    array_index++;
                    callMap = true;
                }

                if (document.getElementById('new_location4_field') && document.getElementById('new_location4_field').value) {
                        location_4 = document.getElementById('new_location4_field').value;
                        locations[array_index] = location_4;
                        array_index++;
                        callMap = true;
                }

                if (document.getElementById('location_3')) {
                    index = form.location_3.selectedIndex;
                    if (document.getElementById('location_3').options[index].value) {
                        location_3 = document.getElementById('location_3').options[index].text;
                        locations[array_index] = location_3;
                        array_index++;
                        callMap = true;
                    }
                } else if (document.getElementById('state')) {
                    location_3 = document.getElementById('state').value;
                    locations[array_index] = location_3;
                    array_index++;
                    callMap = true;
                }

                google_location = locations.join(", ");
            }

            if (callMap){
                $("#tableMapTuning").css("display", "");
                $("#divDisplayMap").css("display", "block");
                $('#linkDisplayMap').text('' + showText(LANG_JS_LABEL_HIDEMAP) + '');
                $.cookie('showMapForm', '0', {expires: 7, path: '/'});
                initialize(15, google_location, latitude, longitude, use_lat_long);
            } else {
                if (!latitude && !longitude){
                    $("#tableMapTuning").css("display", "none");
                    $("#divDisplayMap").css("display", "none");
                }
            }
        }
-->
    </script><table cellpadding="0" cellspacing="0" border="0" class="standard-table noMargin" id="tableMapTuning" style="display: none">
	<tbody><tr>
		<th colspan="2" class="standard-tabletitle">
            Map Tuning
            <span style="display: block; white-space: normal;" id="divDisplayMap">
                <a id="linkDisplayMap" href="javascript:void(0)" onclick="displayMapForm(document.form_event, false);">
                    Hide Map                </a>
            </span>
            <div id="tipsMap">
                <span style="text-align: justify;">Use the controls "+" and "-" to adjust the map zoom.</span>
                <br/>
                <span style="text-align: justify;">Use the arrows to navigate on map.</span>
                <br/>
                <span style="text-align: justify;">Drag-and-Drop the marker to adjust the location.</span>
            </div>
        </th>
	</tr>

    <tr>
		<td>
            <div id="map" class="googleBase" style="border: 1px solid #000;">&nbsp;</div>
            <input type="hidden" name="latitude_longitude" id="myLatitudeLongitude" value=""/>
            <input type="hidden" name="map_zoom" id="map_zoom" value=""/>
            <input type="hidden" name="maptuning_done" id="maptuning_done" value=""/>
        </td>
	</tr>

</tbody></table>


<table id="range_date" border="0" cellpadding="0" cellspacing="0" class="standard-table noMargin">
    <tbody><tr>
        <th colspan="2" class="standard-tabletitle">Event Date</th>
    </tr>
    <tr>
        <th class="alignTop"><i> * <span>Required field</span></i> Start Date:</th>
		<td>
			<input type="text" name="startDate" id="startDate" value="${eventOrder.startDate}" style="width:80px" class="hasDatepicker"/><span>(mm/dd/yyyy)</span>
		</td>
    </tr>
    <tr id="labelEndDate">
        <th class="alignTop"><i> * <span>Required field</span></i> End Date:</th>
        <td>
			<input type="text" name="endDate" id="endDate" value="${eventOrder.endDate}" style="width:80px" class="hasDatepicker"/><span>(mm/dd/yyyy)</span>
		</td>
    </tr>
</tbody></table>

<table border="0" cellpadding="0" cellspacing="0" class="standard-table noMargin">
        	<tbody><tr>
			<th>Start Time:</th>
			<td>

<select id="startHour" name="startHour" style="width: 50px;">
<option value=""></option>
<c:forEach begin="1" end="12" var="stHr">
	<c:choose>
		<c:when test="${stHr == eventOrder.startHour}">
			<option value="${stHr}" selected="selected">${stHr}</option>
		</c:when>
		<c:otherwise>
			<option value="${stHr}">${stHr}</option>
		</c:otherwise>
	</c:choose>
</c:forEach>
</select>
 :
<select id="startMinute" name="startMinute" style="width: 50px;">
<option value=""></option>
<c:forEach begin="0" end="55" step="5" var="stMn">
	<c:choose>
		<c:when test="${stMn == eventOrder.startMinute}">
			<option value="${stMn}" selected="selected">${stMn}</option>
		</c:when>
		<c:otherwise>
			<option value="${stMn}">${stMn}</option>
		</c:otherwise>
	</c:choose>
</c:forEach>
</select>
<c:choose>
	<c:when test="${eventOrder.startAmPm == 'am'}">
		<input type="radio" name="startAmPm" value="am" class="inputRadio" checked="checked"/>
	</c:when>
	<c:otherwise>
		<input type="radio" name="startAmPm" value="am" class="inputRadio"/>
	</c:otherwise>
</c:choose> AM
<c:choose>
	<c:when test="${eventOrder.startAmPm == 'pm'}">
		<input type="radio" name="startAmPm" value="pm" class="inputRadio" checked="checked"/>
	</c:when>
	<c:otherwise>
		<input type="radio" name="startAmPm" value="pm" class="inputRadio"/>
	</c:otherwise>
</c:choose> PM (hh:mm)
                			</td>
		</tr>

    		<tr>
			<th>End Time:</th>
			<td>

<select id="endHour" name="endHour" style="width: 50px;">
<option value=""></option>
<c:forEach begin="1" end="12" var="edHr">
	<c:choose>
		<c:when test="${edHr == eventOrder.endHour}">
			<option value="${edHr}" selected="selected">${edHr}</option>
		</c:when>
		<c:otherwise>
			<option value="${edHr}">${edHr}</option>
		</c:otherwise>
	</c:choose>
</c:forEach>
</select>

 :
 <select id="endMinute" name="endMinute" style="width: 50px;">
<option value=""></option>
<c:forEach begin="0" end="55" step="5" var="edMn">
	<c:choose>
		<c:when test="${edMn == eventOrder.endMinute}">
			<option value="${edMn}" selected="selected">${edMn}</option>
		</c:when>
		<c:otherwise>
			<option value="${edMn}">${edMn}</option>
		</c:otherwise>
	</c:choose>
</c:forEach>
</select>
<c:choose>
	<c:when test="${eventOrder.endAmPm == 'am'}">
		<input type="radio" name="endAmPm" value="am" class="inputRadio" checked="checked"/>
	</c:when>
	<c:otherwise>
		<input type="radio" name="endAmPm" value="am" class="inputRadio"/>
	</c:otherwise>
</c:choose> AM
<c:choose>
	<c:when test="${eventOrder.endAmPm == 'pm'}">
		<input type="radio" name="endAmPm" value="pm" class="inputRadio" checked="checked"/>
	</c:when>
	<c:otherwise>
		<input type="radio" name="endAmPm" value="pm" class="inputRadio"/>
	</c:otherwise>
</c:choose> PM (hh:mm)
</td>
		</tr>
    </tbody></table>

<table border="0" cellpadding="0" cellspacing="0" class="standard-table noMargin">
    <tbody><tr>
        <th>
        	<c:choose>
        		<c:when test="${eventOrder.recurring}">
        			<input type="checkbox" id="recurring" name="recurring" value="true" onclick="recurringcheck();" checked="checked"/>
        		</c:when>
        		<c:otherwise>
        			<input type="checkbox" id="recurring" name="recurring" value="true" onclick="recurringcheck();"/>
        		</c:otherwise>
        	</c:choose>

        </th>
        <td>
            Recurring Event        </td>
    </tr>
</tbody></table>

<table id="reccuring_events" border="0" cellpadding="0" cellspacing="0" class="standard-table noMargin" style="display:none;">
    <tbody><tr>
        <th>
            <i> * <span>Required field</span></i> Repeat:
        </th>
        <td class="eventRec">
            <select id="period" name="period" style="width:200px;" onchange="chooseperiod(this.value)">
            	<c:forEach var="dateRange" items="${conversionManagedBean.dateRange}">
            		<c:choose>
	            		<c:when test="${eventOrder.period == dateRange}">
	            			<option value="${dateRange}" selected="selected">${dateRange}</option>
	            		</c:when>
	            		<c:otherwise>
	            			<option value="${dateRange}">${dateRange}</option>
	            		</c:otherwise>
	            	</c:choose>
            	</c:forEach>
            </select>
        </td>
    </tr>

    <tr id="select_day" style="display:none;">
        <th>
            <input type="radio" id="precision1" name="precision" value="day" onclick="chooseprecision(this.value)"/>
        </th>
        <td class="eventRec">
                        <i> * <span>Required field</span></i> Every day &nbsp;<input type="text" id="day" name="day" style="width:30px;" value="" maxlength="2"/><label id="of2" for="month">&nbsp;&nbsp;<i> * <span>Required field</span></i> of&nbsp;&nbsp;</label><label id="of4" for="month">&nbsp;&nbsp; of&nbsp;the Month&nbsp;&nbsp;</label>
			<select id="month" name="month" style="width:120px;">
				<option value="">Choose Month</option>
				<c:forEach var="monthOfYear" items="${conversionManagedBean.monthOfYear}">
					<c:choose>
						<c:when test="${eventOrder.month == monthOfYear.toString()}">
							<option value="${monthOfYear}" selected="selected"><span style="text-transform: capitalize;">${monthOfYear}</span></option>
						</c:when>
						<c:otherwise>
							<option value="${monthOfYear}"><span style="text-transform: capitalize;">${monthOfYear}</span></option>
						</c:otherwise>
					</c:choose>
				</c:forEach>
			</select>
        </td>

    </tr>
    <tr id="select_week">
		<th class="alignTop inputAlign">
            <input type="radio" id="precision2" name="precision" value="weekday" onclick="chooseprecision(this.value)"/>
        </th>
        <td class="eventRec">
        	<table cellpadding="0" cellspacing="0">
          	<tbody><tr>
				<td class="eventRecLabel alignTop nowrap"><abbr id="every"><i> * <span>Required field</span></i> Every</abbr></td>
			  <td>
				  <table id="dayofweek" border="0" cellpadding="0" cellspacing="0" class="standard-table noMargin">
				  <tbody><tr>
				  	<c:forEach var="dayOfWeek" items="${conversionManagedBean.dayOfWeek}">
				  		<c:set var="dayOfWeekExists" value="false"/>
				  		<c:set var="count" value="0"/>
				  		<c:forEach var="dayOfWeek2" items="${eventOrder.dayOfWeekcb}">
				  			<c:set var="count" value="${count + 1}"/>
				  			<c:choose>
						  		<c:when test="${dayOfWeek2 == dayOfWeek}">
						  			<c:set var="dayOfWeekExists" value="true"/>
						  			<td class="widthAuto center"><input type="checkbox" id="dayofweek_${count}" name="dayOfWeekcb" class="inputCheck" value="${dayOfWeek}" checked="checked" style="text-transform: capitalize;"/><br/>
						  				${fn:substring(dayOfWeek, 0, 3)}
						  			</td>
						  		</c:when>
						  	</c:choose>

				  		</c:forEach>
						<c:if test="${not dayOfWeekExists}">
					  		<td class="widthAuto center"><input type="checkbox" id="dayOfWeekcb" name="dayOfWeekcb" class="inputCheck" value="${dayOfWeek}"/><br/>
					  				${fn:substring(dayOfWeek, 0, 3)}
					  			</td>
					  	</c:if>
				  	</c:forEach>			  </tr>
				  </tbody></table>
			  </td>
            </tr>
            <tr id="week_of" style="display:none;">
				<td class="eventRecLabel alignTop nowrap"><abbr id="of"><i> * <span>Required field</span></i> of</abbr></td>
				<td>
				  <table id="week" border="0" cellpadding="0" cellspacing="0" class="standard-table noMargin">
				  <tbody><tr>
				  	<c:forEach var="weekOfMonth" items="${conversionManagedBean.weekOfMonth}">
				  		<c:set var="weekOfMonthExists" value="false"/>
				  		<c:set var="count" value="0"/>
				  		<c:forEach var="weekOfMonth2" items="${eventOrder.weekOfMonth}">
				  			<c:choose>
				  				<c:when test="${weekOfMonth == weekOfMonth2}">
				  					<c:set var="weekOfMonthExists" value="true"/>
				  					<td class="center nowrap"><input type="checkbox" id="numberofweek_${count}" name="weekOfMonth" class="inputCheck inputAlign inputAlignNoMargin" value="${weekOfMonth}" checked="checked"/><br/>${weekOfMonth}</td>
				  				</c:when>
				  			</c:choose>
				  			<c:set var="count" value="${count + 1}"/>
				  		</c:forEach>
				  		<c:if test="${not weekOfMonthExists}">
				  			<td class="center nowrap"><input type="checkbox" id="numberofweek_${count}" name="weekOfMonth" class="inputCheck inputAlign inputAlignNoMargin" value="${weekOfMonth}"/><br/>${weekOfMonth}</td>
				  		</c:if>
				  	</c:forEach>
					</tr>

				  </tbody></table>
				</td>
			  <td id="weeklabel" class="alignTop">Week</td>
            </tr>
            <tr id="month_of" style="display:none;">
          		<td class="eventRecLabel"><abbr id="of3"><i> * <span>Required field</span></i> of</abbr></td>
              <td>
              	<select id="month2" name="month">
                    <option value="">Choose Month</option>
                    <c:forEach var="monthOfYear" items="${conversionManagedBean.monthOfYear}">
						<c:choose>
							<c:when test="${eventOrder.month2 == monthOfYear}">
								<option value="${monthOfYear}" selected="selected"><span style="text-transform: capitalize;">${monthOfYear}</span></option>
							</c:when>
							<c:otherwise>
								<option value="${monthOfYear}"><span style="text-transform: capitalize;">${monthOfYear}</span></option>
							</c:otherwise>
						</c:choose>
					</c:forEach>
                </select>
              </td>
            </tr>
          </tbody></table>
        </td>
    </tr>
</tbody></table>

<table id="reccuring_ends" border="0" cellpadding="0" cellspacing="0" class="standard-table" style="display:none;">
	<tbody><tr>
        <th class="alignMiddle">
            <i> * <span>Required field</span></i> Ends on:
        </th>
        <td class="eventRec">
         <table id="dayofweek" border="0" cellpadding="0" cellspacing="0" class="standard-table noMargin">
          <tbody><tr>
          	<td>
              <input type="radio" id="eventEver" name="eventPeriod" value="ever" checked="checked" class="inputRadio" onclick="enableUntil('1');"/> Never<span class="clear"></span>
              <input type="radio" id="eventUntil" name="eventPeriod" value="until" class="inputRadio" onclick="enableUntil('2');"/> Until: <input type="text" name="untilDate" id="untilDate" value="${eventOrder.untilDate}" style="width:80px" class="hasDatepicker"/> <span style="display:inline;">(mm/dd/yyyy)</span>
            </td>
          </tr>
			  </tbody></table>
        </td>
    </tr>
</tbody></table>

	<table border="0" cellpadding="0" cellspacing="0" class="standard-table">
		<tbody><tr>
			<th colspan="3" class="standard-tabletitle">Images <span>(690px x 300px) (JPG, GIF or PNG)</span></th>
		</tr>

		<tr id="table_gallery">
			<th colspan="3" class="Full">
				<div id="galleryF"><ul></ul></div>
			</th>
		</tr>

					<tr>
		                <td class="alignTop width100">
		                <input type="file" name="imageUpload" />

                                            <!-- <a id="uploadimage" href="http://beautypro411.com/popup/popup.php?domain_id=1&amp;pop_type=uploadimage&amp;gallery_hash=event_21062077235398ef96bb3133.74099079&amp;item_type=event&amp;item_id=0&amp;galleryid=&amp;photos=3&amp;level=10" class="addImageForm input-button-form iframe fancy_window_imgAdd">Add Image</a> -->

                    <span>Maximum file size 1.5 MB. Animated .gif isn't supported.</span>

                                            <p class="informationMessage">This event will show the maximum of 3 images in the gallery  plus one main image.</p>
                                    </td>
		</tr>
	</tbody></table>


<table cellpadding="0" cellspacing="0" border="0" class="standard-table">

            <tbody><tr>
            <th class="standard-tabletitle">
                Summary Description <span>(maximum 250 characters)</span>
            </th>
        </tr>
        <tr>
            <td>
                <textarea id="summarydesc" name="summarydesc" rows="5" cols="1">${eventOrder.summarydesc}</textarea><div class="charleft originalTextareaInfo" style="width: auto;"><span><input readonly="readonly" type="text" id="summarydesc_remLen" name="summarydesc_remLen" size="3" maxlength="3" value="250" class="textcounter" disabled="disabled"/> characters left (including spaces and line breaks)</span></div>
            </td>
        </tr>
    </tbody></table>

    <table cellpadding="0" cellspacing="0" border="0" class="standard-table">
        <tbody><tr>
            <th class="standard-tabletitle">Description</th>
        </tr>
        <tr>
            <td>
                <textarea name="description" rows="5">${eventOrder.description}</textarea>
            </td>
        </tr>
    </tbody></table>

<table cellpadding="0" cellspacing="0" border="0" class="standard-table noMargin">
    <tbody><tr>
        <th class="standard-tabletitle">
            Keywords for the search <span>(maximum 10 keywords)</span>
            <img src="http://beautypro411.com/images/icon_interrogation.gif" alt="?" title="Include up to 10 keywords with a maximum of 50 characters each." border="0"/>
        </th>
    </tr>
    <tr>
        <td class="standard-tableContent">
            <table border="0" cellpadding="0" cellspacing="0" align="center">
                <tbody><tr>
                    <th>Add one keyword or keyword phrase per line. For example:</th>
                    <td>
                        Auto Parts<br/>
                        Tires<br/>
                        Engine Repair<br/>
                    </td>
                </tr>
            </tbody></table>
        </td>
    </tr>
    <tr>
        <td>
            <textarea name="keyword" rows="5">${eventOrder.keyword}</textarea>
        </td>
    </tr>
</tbody></table>

<table border="0" cellpadding="0" cellspacing="0" class="standard-table">
	<tbody><tr>
		<th colspan="2" class="standard-tabletitle">
			Categories and sub-categories		</th>
	</tr>
	<tr>
		<td colspan="2">
			<p class="warningBOXtext">Only select sub-categories that directly apply to your type.<br/>Your event will automatically appear in the main category of each sub-category you select.<br/></p>
            <p class="warningBOXtext">Maximum of <strong>5</strong> categories allowed.</p>
		</td>
	</tr>
	<input type="hidden" name="return_categories" value=""/>
	<tr>
		<td colspan="2" class="treeView">
			<ul id="browser" class="filetree treeview-famfamfam">
				<c:forEach items="${order.categoryMap}" var="catMap">
					<c:choose>
						<h:outputText value="${fn:length(catMap.value) 	}"/>
						<c:when test="${fn:length(catMap.value) > 1}">
							<li><span class="folder">${catMap.key.name}</span>
							<ul>
								<c:forEach var="cat" items="${catMap.value}">
									<c:if test="${cat.name != catMap.key.name}">
										<li id="${cat.id}"><span class="file">${cat.name}<a catAddId="${cat.id}">Add</a></span></li>
									</c:if>
								</c:forEach>
							</ul>
							</li>
						</c:when>
						<c:otherwise>
							<li id="${catMap.key.id}" class="file">${catMap.key.name} <a catAddId="${catMap.key.id}">Add</a></li>
						</c:otherwise>
					</c:choose>
				</c:forEach>
			</ul>
			<!-- <ul id="event_categorytree_id_0" class="categoryTreeview"><li><a href="javascript:void(0);" onclick="loadCategoryTree('all', 'event_', 'EventCategory', 13, 0, 'http://beautypro411.com',1);" class="switchOpen" id="event_opencategorytree_id_13">+</a><a href="javascript:void(0);" onclick="loadCategoryTree('all', 'event_', 'EventCategory', 13, 0, 'http://beautypro411.com',1);" class="categoryTitle" id="event_opencategorytree_title_id_13">Animals</a><a href="javascript:void(0);" onclick="closeCategoryTree('event_', 'EventCategory', 13, 'http://beautypro411.com');" class="switchClose" id="event_closecategorytree_id_13" style="display: none;">-</a><a href="javascript:void(0);" onclick="closeCategoryTree('event_', 'EventCategory', 13, 'http://beautypro411.com');" class="categoryTitle" id="event_closecategorytree_title_id_13" style="display: none;">Animals</a>
<ul id="event_categorytree_id_13" style="display: none;"></ul>
</li>
<li><a href="javascript:void(0);" onclick="loadCategoryTree('all', 'event_', 'EventCategory', 4, 0, 'http://beautypro411.com',1);" class="switchOpen" id="event_opencategorytree_id_4">+</a><a href="javascript:void(0);" onclick="loadCategoryTree('all', 'event_', 'EventCategory', 4, 0, 'http://beautypro411.com',1);" class="categoryTitle" id="event_opencategorytree_title_id_4">Arts</a><a href="javascript:void(0);" onclick="closeCategoryTree('event_', 'EventCategory', 4, 'http://beautypro411.com');" class="switchClose" id="event_closecategorytree_id_4" style="display: none;">-</a><a href="javascript:void(0);" onclick="closeCategoryTree('event_', 'EventCategory', 4, 'http://beautypro411.com');" class="categoryTitle" id="event_closecategorytree_title_id_4" style="display: none;">Arts</a>
<ul id="event_categorytree_id_4" style="display: none;"></ul>
</li>
<li class="categoryBullet">Beauty Conventions / Shows <a id="categoryAdd41" href="javascript:void(0);" onclick="JS_addCategory(41);" class="categoryAdd">Add</a></li><li id="liContent41" style="display:none">Beauty Conventions / Shows</li><li><a href="javascript:void(0);" onclick="loadCategoryTree('all', 'event_', 'EventCategory', 2, 0, 'http://beautypro411.com',1);" class="switchOpen" id="event_opencategorytree_id_2">+</a><a href="javascript:void(0);" onclick="loadCategoryTree('all', 'event_', 'EventCategory', 2, 0, 'http://beautypro411.com',1);" class="categoryTitle" id="event_opencategorytree_title_id_2">Entertainment</a><a href="javascript:void(0);" onclick="closeCategoryTree('event_', 'EventCategory', 2, 'http://beautypro411.com');" class="switchClose" id="event_closecategorytree_id_2" style="display: none;">-</a><a href="javascript:void(0);" onclick="closeCategoryTree('event_', 'EventCategory', 2, 'http://beautypro411.com');" class="categoryTitle" id="event_closecategorytree_title_id_2" style="display: none;">Entertainment</a>
<ul id="event_categorytree_id_2" style="display: none;"></ul>
</li>
<li><a href="javascript:void(0);" onclick="loadCategoryTree('all', 'event_', 'EventCategory', 8, 0, 'http://beautypro411.com',1);" class="switchOpen" id="event_opencategorytree_id_8">+</a><a href="javascript:void(0);" onclick="loadCategoryTree('all', 'event_', 'EventCategory', 8, 0, 'http://beautypro411.com',1);" class="categoryTitle" id="event_opencategorytree_title_id_8">Fair</a><a href="javascript:void(0);" onclick="closeCategoryTree('event_', 'EventCategory', 8, 'http://beautypro411.com');" class="switchClose" id="event_closecategorytree_id_8" style="display: none;">-</a><a href="javascript:void(0);" onclick="closeCategoryTree('event_', 'EventCategory', 8, 'http://beautypro411.com');" class="categoryTitle" id="event_closecategorytree_title_id_8" style="display: none;">Fair</a>
<ul id="event_categorytree_id_8" style="display: none;"></ul>
</li>
<li><a href="javascript:void(0);" onclick="loadCategoryTree('all', 'event_', 'EventCategory', 11, 0, 'http://beautypro411.com',1);" class="switchOpen" id="event_opencategorytree_id_11">+</a><a href="javascript:void(0);" onclick="loadCategoryTree('all', 'event_', 'EventCategory', 11, 0, 'http://beautypro411.com',1);" class="categoryTitle" id="event_opencategorytree_title_id_11">Food and Dining</a><a href="javascript:void(0);" onclick="closeCategoryTree('event_', 'EventCategory', 11, 'http://beautypro411.com');" class="switchClose" id="event_closecategorytree_id_11" style="display: none;">-</a><a href="javascript:void(0);" onclick="closeCategoryTree('event_', 'EventCategory', 11, 'http://beautypro411.com');" class="categoryTitle" id="event_closecategorytree_title_id_11" style="display: none;">Food and Dining</a>
<ul id="event_categorytree_id_11" style="display: none;"></ul>
</li>
<li><a href="javascript:void(0);" onclick="loadCategoryTree('all', 'event_', 'EventCategory', 10, 0, 'http://beautypro411.com',1);" class="switchOpen" id="event_opencategorytree_id_10">+</a><a href="javascript:void(0);" onclick="loadCategoryTree('all', 'event_', 'EventCategory', 10, 0, 'http://beautypro411.com',1);" class="categoryTitle" id="event_opencategorytree_title_id_10">Leisure</a><a href="javascript:void(0);" onclick="closeCategoryTree('event_', 'EventCategory', 10, 'http://beautypro411.com');" class="switchClose" id="event_closecategorytree_id_10" style="display: none;">-</a><a href="javascript:void(0);" onclick="closeCategoryTree('event_', 'EventCategory', 10, 'http://beautypro411.com');" class="categoryTitle" id="event_closecategorytree_title_id_10" style="display: none;">Leisure</a>
<ul id="event_categorytree_id_10" style="display: none;"></ul>
</li>
</ul> -->
			<table width="100%" border="0" cellpadding="2" class="tableCategoriesADDED" cellspacing="0">
				<tbody><tr>
					<th colspan="2" class="tableCategoriesTITLE alignLeft"><strong>Event Categories:</strong></th>
				</tr>
				<tr id="msgback2" class="informationMessageShort">
					<td colspan="2" style="width: auto;"><p><img width="16" height="14" src="http://beautypro411.com/images/icon_atention.gif" alt="Attention" title="Attention"/> Click on "Add" to select categories</p></td>
				</tr>
				<tr id="msgback" style="display:none">
					<td colspan="2"><div><img width="16" height="14" src="http://beautypro411.com/images/icon_atention.gif" alt="Attention" title="Attention"/></div><p>Click at "Add main category" or "Add sub-category" to type your new categories</p></td>
				</tr>
				<tr>
					<td colspan="2" class="tableCategoriesCONTENT"><select name="feed" id="feed" multiple="" size="5" style="width:500px"></select></td>
				</tr>
				<tr id="removeCategoriesButton" style="display:none">
					<td class="tableCategoriesBUTTONS" colspan="2">
						<center>
							<button class="input-button-form" type="button" value="Remove Selected Category" onclick="JS_removeCategory(document.form_event.feed, false);">Remove Selected Category</button>
						</center>
					</td>
				</tr>
			</tbody></table>
		</td>
	</tr>
</tbody></table>

			<table cellpadding="0" cellspacing="0" border="0" class="standard-table">
			<tbody><tr>
				<th colspan="2" class="standard-tabletitle">Promotional Code</th>
			</tr>
							<tr>
					<th>Code:</th>
					<td><input type="text" name="promotionCode" value="${eventOrder.promotionCode}" maxlength="10"/></td>
				</tr>
					</tbody></table>


<script language="javascript" type="text/javascript" src="http://beautypro411.com/scripts/categorytree.js"></script>
<script language="javascript" type="text/javascript">


	loadCategoryTree('all', 'event_', 'EventCategory', 0, 0, 'http://beautypro411.com', 1);

			loadGallery(0,'y','members','editF', '');


</script>
     <!--    </form>

        <form action="http://beautypro411.com/members/event/index.php" method="get">
 -->
            <input type="hidden" name="screen" value=""/>
            <input type="hidden" name="letter" value=""/>

            <div class="baseButtons">

                <p class="standardButton">
                    <button type="submit" name="_eventId_submit">Submit</button>
                </p>
                <p class="standardButton">
                    <button type="submit" name="_eventId_cancel">Cancel</button>
                </p>

            </div>

        </h:form>

    </div>
    <script type="text/javascript">
        $(document).ready(function() {
            //DATE PICKER

            $('#startDate').datepicker({
                dateFormat: 'mm/dd/yy',
                changeMonth: true,
                changeYear: true,
                yearRange: '2013:2024'
            });

            $('#endDate').datepicker({
                dateFormat: 'mm/dd/yy',
                changeMonth: true,
                changeYear: true,
                yearRange: '2014:2024'
            });

            $('#untilDate').datepicker({
                dateFormat: 'mm/dd/yy',
                changeMonth: true,
                changeYear: true,
                yearRange: '2014:2024'
        });
        });
    </script>


            </div><!-- Close container-fluid div -->

        </div>
	</ui:define>
</ui:composition>